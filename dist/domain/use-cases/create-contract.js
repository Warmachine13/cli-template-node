"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CreateContract",{enumerable:true,get:()=>CreateContract});const _errors=require("../entities/errors");const _constants=require("../../constants");const _entities=require("../entities");const _createFile=require("../entities/CreateFile");function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class CreateContract{handle(pathFull,name="Contract",test=true,properites=undefined,onlyTest=false){if(!onlyTest){const fileInString=this.fileStorage.readFileString({path:this.pathResolver.pathresolve(__dirname,_constants.PATH_CONTRACT)});if(fileInString==null){throw new _errors.FileNotFound}const titleConversion=new _entities.TitleConversion(name);const UpperCase=titleConversion.GetCamelCaseName();const titleFormated=titleConversion.GetFormatedTitleFileName();const path=titleConversion.getPathFromTitle();const replacedFileString=new _entities.FormatDocument(fileInString,UpperCase,properites).formatDocument();const pathFileFolder=`${pathFull}/src/${_constants.DOMAIN_CONTRACT_PATH}`;const createFile=new _createFile.CreateFile(this.fileStorage,this.pathResolver);const pathToWrite=createFile.createFile(`${pathFileFolder}/${path}`,replacedFileString,titleFormated);this.logger.log({message:`
 diretorio do contract ${pathToWrite}`});createFile.createIndex(path,pathFileFolder,titleFormated);return replacedFileString}}constructor(fileStorage,pathResolver,logger){_defineProperty(this,"fileStorage",void 0);_defineProperty(this,"pathResolver",void 0);_defineProperty(this,"logger",void 0);this.fileStorage=fileStorage;this.pathResolver=pathResolver;this.logger=logger}}