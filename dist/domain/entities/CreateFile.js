"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CreateFile",{enumerable:true,get:function(){return CreateFile}});const _TitleConversion=require("./TitleConversion");function _define_property(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const NEXT_INDEX=1;const FIRST_INDEX=0;class CreateFile{createFile(pathFolder,content,titleFormated){if(!this.fileStorage.folderExists({path:pathFolder})){this.fileStorage.makeDir({path:pathFolder})}const pathToWrite=this.pathResolver.pathresolve(`${pathFolder}/${titleFormated}`);this.fileStorage.writeFileString({path:pathToWrite,content});return pathToWrite}transformPath(){return}validateAndAppendToIndex(pathFileFolder,pathSplited){let indexFileString="";try{indexFileString=this.fileStorage.readFileString({path:this.pathResolver.pathresolve(`${pathFileFolder}/index.ts`)})}catch(error){}let isInsideString=false;if(indexFileString){isInsideString=indexFileString.includes(`export * from './${pathSplited}'`)}if(!isInsideString){this.fileStorage.appendFile({path:`${pathFileFolder}/index.ts`,content:`export * from './${pathSplited}'
`})}}createIndex(path,pathFileFolder,titleFormated){const splitedPath=path.split("/");let pathCombined="";splitedPath.forEach((pathSplited,index)=>{const nextPath=splitedPath[index+NEXT_INDEX];if(pathSplited){pathCombined+=index===FIRST_INDEX?`${pathSplited}`:`/${pathSplited}`;if(index===FIRST_INDEX){this.validateAndAppendToIndex(pathFileFolder,new _TitleConversion.TitleConversion(pathSplited).GetTranformToKebabCase())}this.validateAndAppendToIndex(`${pathFileFolder}/${pathCombined}`,new _TitleConversion.TitleConversion(nextPath).GetTranformToKebabCase())}});this.validateAndAppendToIndex(`${pathFileFolder}/${pathCombined}`,`${titleFormated.replace(".ts","")}`)}constructor(fileStorage,pathResolver){_define_property(this,"fileStorage",void 0);_define_property(this,"pathResolver",void 0);this.fileStorage=fileStorage;this.pathResolver=pathResolver}}